# Internationalization (i18n)

## Problem

Documentation for global products needs multi-language support. Currently, docs-engine only supports single-language documentation, limiting its use for:
- Open source projects with international contributors
- Products sold in multiple countries
- Developer tools with global audiences
- Enterprise software with localization requirements

Competitors (Docusaurus, VitePress, Nextra) have built-in i18n support.

## Solution

Add internationalization infrastructure with multi-language routing, language switcher, and translation workflow helpers.

**Structure:**
```
docs/
  en/           # English (default locale)
  es/           # Spanish
  zh/           # Chinese
  ja/           # Japanese
```

**URLs:**
- `/docs/` - Default locale (English)
- `/docs/es/` - Spanish
- `/docs/zh/` - Chinese

## Checklists

### Locale Configuration
- [ ] Add `i18nConfig` to docs-engine config
- [ ] Support `defaultLocale` (fallback language)
- [ ] Support `locales` array with metadata (code, label, direction)
- [ ] Support locale detection from URL path
- [ ] Support locale persistence in localStorage
- [ ] Support fallback chain (zh-CN → zh → en)

### Routing
- [ ] Add locale prefix to routes (`/[locale]/docs/[...slug]`)
- [ ] Redirect root to default locale
- [ ] Handle locale in navigation links
- [ ] Preserve locale when navigating
- [ ] Support locale-specific redirects
- [ ] Generate sitemap per locale

### Language Switcher Component
- [ ] Create `LanguageSwitcher.svelte` dropdown
- [ ] List all available locales
- [ ] Show current locale with native label
- [ ] Navigate to same page in different locale
- [ ] Fallback to home if translation missing
- [ ] Show translation progress per locale
- [ ] Style with flag icons (optional)

### Content Structure
- [ ] Organize docs by locale subdirectories
- [ ] Support shared assets (images used across locales)
- [ ] Handle locale-specific images
- [ ] Support partial translations (fallback to default)
- [ ] Track translation status per page

### Navigation Per Locale
- [ ] Load locale-specific navigation
- [ ] Support translated sidebar labels
- [ ] Handle missing translations in nav
- [ ] Show translation status indicators
- [ ] Support locale-specific page ordering

### Search Per Locale
- [ ] Build separate search indexes per locale
- [ ] Search only current locale by default
- [ ] Option to search across all locales
- [ ] Show locale in search results
- [ ] Support locale-specific stop words

### RTL Support
- [ ] Detect RTL locales (ar, he, fa, ur)
- [ ] Apply RTL CSS (dir="rtl")
- [ ] Mirror layout for RTL languages
- [ ] Handle mixed LTR/RTL content (code blocks)
- [ ] Test with Arabic, Hebrew

### Translation Workflow
- [ ] Generate translation status reports
- [ ] Show which pages need translation
- [ ] Show which pages are outdated
- [ ] Generate translation skeleton files
- [ ] Support translation service integration (Crowdin, Lokalise)

### Date/Number Formatting
- [ ] Format dates per locale (Intl.DateTimeFormat)
- [ ] Format numbers per locale (Intl.NumberFormat)
- [ ] Support locale-specific pluralization
- [ ] Support locale-specific sorting

### Metadata Per Locale
- [ ] Support locale-specific meta tags
- [ ] Generate hreflang tags for SEO
- [ ] Support locale-specific Open Graph images
- [ ] Support locale-specific canonical URLs

### CLI Commands
- [ ] Add `docs-engine i18n init <locale>` command
- [ ] Add `docs-engine i18n status` command (show translation progress)
- [ ] Add `docs-engine i18n sync` command (sync structure across locales)
- [ ] Add `docs-engine i18n extract` command (extract translatable strings)

### Configuration UI Strings
- [ ] Create locale files for UI strings (src/locales/en.json)
- [ ] Translate UI components (search, prev/next, edit, etc.)
- [ ] Support custom translations via config
- [ ] Load UI strings dynamically per locale

### Documentation
- [ ] Document i18n configuration in README.md
- [ ] Document locale directory structure
- [ ] Document translation workflow
- [ ] Document RTL considerations
- [ ] Document SEO best practices for multi-language
- [ ] Add translation guide for contributors

## Success Criteria

- Supports multiple languages with URL-based locale routing
- Language switcher allows seamless switching
- RTL languages display correctly
- Each locale has separate navigation and search
- Translation status is trackable
- SEO optimized with hreflang tags
- Partial translations fall back gracefully
- Translation workflow is documented and streamlined
- Feature parity with Docusaurus i18n

## Benefits

- Enables global product documentation
- Supports international open source communities
- Professional multi-language management
- Better accessibility for non-English speakers
- SEO benefits from localized content
- Competitive with Docusaurus for international projects
- Opens docs-engine to enterprise customers
- Increases adoption in non-English markets
